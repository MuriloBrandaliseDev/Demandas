<!-- usuarios/templates/conteudos/calendario.html -->

{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Calendário de Demandas</title>
    <style>
      * {
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
      }

      body {
        margin: 0 auto;
        background-color: #f7f7f1;
        min-height: 100vh;
      }

      .calendario-container {
        margin: 0 auto;
        width: 87%;
        margin-top: 3%;
        margin-left: 190px;
        border-radius: 10px;
        
        
      }

      .calendario-container h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #333;
      }

      .mes {
        margin-bottom: 40px;
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border: solid 1px #e0dfdf;
      }

      .mes h2 {
        text-align: center;
        margin-bottom: 20px;
        font-size: 2em;
        color: #555;
      }

      .dias {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
      }

      .dia {
        background-color: #f0f4f8;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px;
        min-height: 100px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }

      .numero-dia {
        font-weight: bold;
        margin-bottom: 10px;
        text-align: right;
        color: #333;
      }

      .demandas {
        flex-grow: 1;
        overflow-y: auto;
      }

      .demanda {
        background-color: #28a745;
        color: #fff;
        padding: 5px 8px;
        margin-bottom: 5px;
        border-radius: 4px;
        font-size: 12px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .demanda:hover {
        background-color: #218838;
      }

      .sem-demanda {
        color: #999;
        font-style: italic;
        font-size: 12px;
        text-align: center;
        margin-top: auto;
      }

      /* Cabeçalhos dos dias da semana */
      .dias-semana {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
        margin-bottom: 10px;
      }

      .dias-semana div {
        text-align: center;
        font-weight: bold;
        color: #fff;
        background-color: rgb(0, 194, 107);
        padding: 8px 0;
        border-radius: 5px;
      }

      /* Responsividade */
      @media (max-width: 1200px) {
        .dia {
          min-height: 90px;
        }
      }

      @media (max-width: 768px) {
        .dias-semana {
          grid-template-columns: repeat(7, 1fr);
          gap: 5px;
        }

        .dias-semana div {
          font-size: 12px;
          padding: 5px 0;
        }

        .dia {
          min-height: 80px;
          padding: 8px;
        }

        .demanda {
          font-size: 11px;
          padding: 4px 6px;
        }

        .sem-demanda {
          font-size: 10px;
        }
      }

      @media (max-width: 480px) {
        .mes {
          padding: 15px;
        }

        .mes h2 {
          font-size: 1.5em;
        }

        .dia {
          min-height: 70px;
        }
      }
    </style>
  </head>
  <body>
    <div class="calendario-container">   
      {% for mes in meses %}
      <div class="mes">
        <h1>Calendário<span style="color: rgb(0, 194, 107)"> de Demandas </span>  {{ ano }}</h1>
        <h2>{{ mes.nome }}</h2>
        <div class="dias-semana">
          <div>Domingo</div>
          <div>Segunda</div>
          <div>Terça</div>
          <div>Quarta</div>
          <div>Quinta</div>
          <div>Sexta</div>
          <div>Sábado</div>
        </div>
        <div class="dias">
          {% for dia in mes.dias %}
          <div class="dia">
            <div class="numero-dia">{{ dia.dia }}</div>
            <div class="demandas">
              {% for demanda in dia.demandas %}
              <div class="demanda" title="{{ demanda.descricao }}">
                {{ demanda.titulo_projeto }}
              </div>
              {% empty %}
              
              {% endfor %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endfor %}
    </div>
  </body>
</html>
